<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux | site</title>
    <meta name="description" content="summerycicada">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.b13f3be4.css" as="style"><link rel="preload" href="/blog/assets/js/app.4f2de14e.js" as="script"><link rel="preload" href="/blog/assets/js/2.7449a846.js" as="script"><link rel="preload" href="/blog/assets/js/44.ab150524.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.23a54832.js"><link rel="prefetch" href="/blog/assets/js/11.37fdd76f.js"><link rel="prefetch" href="/blog/assets/js/12.a7049184.js"><link rel="prefetch" href="/blog/assets/js/13.c06f4b16.js"><link rel="prefetch" href="/blog/assets/js/14.1e03601f.js"><link rel="prefetch" href="/blog/assets/js/15.42176721.js"><link rel="prefetch" href="/blog/assets/js/16.a771186b.js"><link rel="prefetch" href="/blog/assets/js/17.91121a37.js"><link rel="prefetch" href="/blog/assets/js/18.60ca16ce.js"><link rel="prefetch" href="/blog/assets/js/19.25040c1f.js"><link rel="prefetch" href="/blog/assets/js/20.fa4f43c0.js"><link rel="prefetch" href="/blog/assets/js/21.5d6e2a43.js"><link rel="prefetch" href="/blog/assets/js/22.a59ae590.js"><link rel="prefetch" href="/blog/assets/js/23.169c912b.js"><link rel="prefetch" href="/blog/assets/js/24.6a0bb5ff.js"><link rel="prefetch" href="/blog/assets/js/25.d7ff8bd2.js"><link rel="prefetch" href="/blog/assets/js/26.48e7060a.js"><link rel="prefetch" href="/blog/assets/js/27.ea1b3ffc.js"><link rel="prefetch" href="/blog/assets/js/28.aad56a94.js"><link rel="prefetch" href="/blog/assets/js/29.e07f7d6b.js"><link rel="prefetch" href="/blog/assets/js/3.9b7c7f29.js"><link rel="prefetch" href="/blog/assets/js/30.c51da59c.js"><link rel="prefetch" href="/blog/assets/js/31.12c7cb4a.js"><link rel="prefetch" href="/blog/assets/js/32.6fd749f4.js"><link rel="prefetch" href="/blog/assets/js/33.b8973e11.js"><link rel="prefetch" href="/blog/assets/js/34.55bb6b06.js"><link rel="prefetch" href="/blog/assets/js/35.3381dea8.js"><link rel="prefetch" href="/blog/assets/js/36.d9e5f284.js"><link rel="prefetch" href="/blog/assets/js/37.85339d6d.js"><link rel="prefetch" href="/blog/assets/js/38.1c42851b.js"><link rel="prefetch" href="/blog/assets/js/39.e1ca6da0.js"><link rel="prefetch" href="/blog/assets/js/4.be8f3dc9.js"><link rel="prefetch" href="/blog/assets/js/40.bb5421ba.js"><link rel="prefetch" href="/blog/assets/js/41.a01cb1dc.js"><link rel="prefetch" href="/blog/assets/js/42.be515e46.js"><link rel="prefetch" href="/blog/assets/js/43.b9e1e1b7.js"><link rel="prefetch" href="/blog/assets/js/45.19679d50.js"><link rel="prefetch" href="/blog/assets/js/46.48c687ba.js"><link rel="prefetch" href="/blog/assets/js/47.bd572ef0.js"><link rel="prefetch" href="/blog/assets/js/48.a840a7fe.js"><link rel="prefetch" href="/blog/assets/js/5.37a65126.js"><link rel="prefetch" href="/blog/assets/js/6.adc844ec.js"><link rel="prefetch" href="/blog/assets/js/7.475fc037.js"><link rel="prefetch" href="/blog/assets/js/8.7ebeef9e.js"><link rel="prefetch" href="/blog/assets/js/9.400390c9.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b13f3be4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">site</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">Home</a></div><div class="nav-item"><a href="/blog/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">FrontEnd</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/fe/" class="nav-link">frontend-road</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/typescript.html" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/react.html" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/util.html" class="nav-link">工具</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/compile.html" class="nav-link">编译</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/interview.html" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/snippet.html" class="nav-link">兼容性</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/component.html" class="nav-link">组件化</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/engineering.html" class="nav-link">工程化</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/module.html" class="nav-link">模块化</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/performance.html" class="nav-link">性能优化</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Node.js</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/nodejs/" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----> <a href="/blog/nodejs/eventloop.html" class="nav-link">EventLoop</a></li><li class="dropdown-item"><!----> <a href="/blog/nodejs/cli.html" class="nav-link">CLI</a></li></ul></div></div><div class="nav-item"><a href="/blog/java/" class="nav-link">Java</a></div><div class="nav-item"><a href="/blog/php/" class="nav-link">PHP</a></div><div class="nav-item"><a href="/blog/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/blog/http/" class="nav-link">HTTP</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ALG</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/alg/" class="nav-link">算法与数据结构</a></li><li class="dropdown-item"><!----> <a href="/blog/alg/complexity-1.html" class="nav-link">复杂度分析（上）</a></li><li class="dropdown-item"><!----> <a href="/blog/alg/complexity-2.html" class="nav-link">复杂度分析（下）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">MySQL</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mysql/" class="nav-link">基础</a></li><li class="dropdown-item"><!----> <a href="/blog/mysql/function.html" class="nav-link">函数</a></li><li class="dropdown-item"><!----> <a href="/blog/mysql/subquery.html" class="nav-link">子查询</a></li><li class="dropdown-item"><!----> <a href="/blog/mysql/join.html" class="nav-link">连接查询</a></li><li class="dropdown-item"><!----> <a href="/blog/mysql/sql.html" class="nav-link">SQL必知必会</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/other/git.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/blog/other/linux.html" class="nav-link router-link-exact-active router-link-active">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/other/shell.html" class="nav-link">Shell</a></li><li class="dropdown-item"><!----> <a href="/blog/other/centos.html" class="nav-link">CentOS</a></li></ul></div></div><div class="nav-item"><a href="/blog/movie.html" class="nav-link">movie</a></div><div class="nav-item"><a href="https://github.com/stupidsongshu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">Home</a></div><div class="nav-item"><a href="/blog/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">FrontEnd</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/fe/" class="nav-link">frontend-road</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/typescript.html" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/react.html" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/util.html" class="nav-link">工具</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/compile.html" class="nav-link">编译</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/interview.html" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/snippet.html" class="nav-link">兼容性</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/component.html" class="nav-link">组件化</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/engineering.html" class="nav-link">工程化</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/module.html" class="nav-link">模块化</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/performance.html" class="nav-link">性能优化</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Node.js</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/nodejs/" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----> <a href="/blog/nodejs/eventloop.html" class="nav-link">EventLoop</a></li><li class="dropdown-item"><!----> <a href="/blog/nodejs/cli.html" class="nav-link">CLI</a></li></ul></div></div><div class="nav-item"><a href="/blog/java/" class="nav-link">Java</a></div><div class="nav-item"><a href="/blog/php/" class="nav-link">PHP</a></div><div class="nav-item"><a href="/blog/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/blog/http/" class="nav-link">HTTP</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ALG</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/alg/" class="nav-link">算法与数据结构</a></li><li class="dropdown-item"><!----> <a href="/blog/alg/complexity-1.html" class="nav-link">复杂度分析（上）</a></li><li class="dropdown-item"><!----> <a href="/blog/alg/complexity-2.html" class="nav-link">复杂度分析（下）</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">MySQL</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mysql/" class="nav-link">基础</a></li><li class="dropdown-item"><!----> <a href="/blog/mysql/function.html" class="nav-link">函数</a></li><li class="dropdown-item"><!----> <a href="/blog/mysql/subquery.html" class="nav-link">子查询</a></li><li class="dropdown-item"><!----> <a href="/blog/mysql/join.html" class="nav-link">连接查询</a></li><li class="dropdown-item"><!----> <a href="/blog/mysql/sql.html" class="nav-link">SQL必知必会</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/other/git.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/blog/other/linux.html" class="nav-link router-link-exact-active router-link-active">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/other/shell.html" class="nav-link">Shell</a></li><li class="dropdown-item"><!----> <a href="/blog/other/centos.html" class="nav-link">CentOS</a></li></ul></div></div><div class="nav-item"><a href="/blog/movie.html" class="nav-link">movie</a></div><div class="nav-item"><a href="https://github.com/stupidsongshu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/other/git.html" class="sidebar-link">Git</a></li><li><a href="/blog/other/linux.html" class="active sidebar-link">Linux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/other/linux.html#参考" class="sidebar-link">参考</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#远程登录" class="sidebar-link">远程登录</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#命令的选项风格" class="sidebar-link">命令的选项风格</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#关机和重启" class="sidebar-link">关机和重启</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#查看帮助文档" class="sidebar-link">查看帮助文档</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#用户管理" class="sidebar-link">用户管理</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#用户组管理" class="sidebar-link">用户组管理</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#配置文件" class="sidebar-link">配置文件</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#文件处理" class="sidebar-link">文件处理</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#文本查看" class="sidebar-link">文本查看</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#文本编辑-vim" class="sidebar-link">文本编辑 Vim</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#网络状态查看" class="sidebar-link">网络状态查看</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#网络接口命名修改" class="sidebar-link">网络接口命名修改</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#查看网卡物理连接情况" class="sidebar-link">查看网卡物理连接情况</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#ip" class="sidebar-link">ip</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#route" class="sidebar-link">route</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#网络故障排除" class="sidebar-link">网络故障排除</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#软件安装" class="sidebar-link">软件安装</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#查看用户" class="sidebar-link">查看用户</a></li><li class="sidebar-sub-header"><a href="/blog/other/linux.html#shell" class="sidebar-link">shell</a></li></ul></li><li><a href="/blog/other/shell.html" class="sidebar-link">Shell</a></li><li><a href="/blog/other/centos.html" class="sidebar-link">CentOS</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="linux"><a href="#linux" aria-hidden="true" class="header-anchor">#</a> Linux</h1> <h2 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://mp.weixin.qq.com/s/fuDUfmdEZeZ3HRNOyNaI8A" target="_blank" rel="noopener noreferrer">一份前端够用的 Linux 命令<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="远程登录"><a href="#远程登录" aria-hidden="true" class="header-anchor">#</a> 远程登录</h2> <h3 id="windows系统"><a href="#windows系统" aria-hidden="true" class="header-anchor">#</a> Windows系统</h3> <ul><li>putty</li> <li>xshell</li> <li>cmder(Download Full，下载完全版)</li> <li>terminal</li></ul> <h3 id="linux和macos系统"><a href="#linux和macos系统" aria-hidden="true" class="header-anchor">#</a> Linux和MacOS系统</h3> <ul><li>ssh</li></ul> <p><code>ssh</code>的前身是<strong>telnet</strong>，telnet通过电话线连上远程服务器，致命缺点是明文传输，ssh是加密版的telnet.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># ssh 远程服务器用户名@远程服务器IP</span>
<span class="token function">ssh</span> root@192.168.199.222

<span class="token comment"># 普通用户</span>
<span class="token punctuation">[</span>squirrel@localhost ~<span class="token punctuation">]</span>$ <span class="token builtin class-name">pwd</span>
/home/squirrel

<span class="token comment"># 超级用户</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root

<span class="token comment"># 切换为 root 用户</span>
<span class="token function">su</span> - root
<span class="token comment"># 或者</span>
<span class="token function">sudo</span> -i
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="tip custom-block"><ul><li>squirrel/root: 当前登录用户</li> <li>localhost: 主机名</li> <li>~: 当前工作目录，默认为当前登录用户的家目录。普通用户的家目录是<code>/home/用户名</code>；root的家目录是<code>/root</code></li> <li>提示符：$表示普通用户；#表示超级用户</li></ul></div> <div class="danger custom-block"><p>超级用户在<strong>删除</strong>等危险操作时需谨慎</p></div> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 查看当前用户</span>
<span class="token builtin class-name">echo</span> <span class="token environment constant">$USER</span>

<span class="token comment"># 查看当前系统语言</span>
<span class="token builtin class-name">echo</span> <span class="token environment constant">$LANG</span>

<span class="token comment"># 查看环境变量</span>
<span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="命令的选项风格"><a href="#命令的选项风格" aria-hidden="true" class="header-anchor">#</a> 命令的选项风格</h2> <ul><li>UNIX风格，必须带一个 &quot;-&quot;</li> <li>BSD风格，不带 &quot;-&quot;</li> <li>GNU风格，带两个&quot;-&quot;</li></ul> <h2 id="关机和重启"><a href="#关机和重启" aria-hidden="true" class="header-anchor">#</a> 关机和重启</h2> <h3 id="shutdown"><a href="#shutdown" aria-hidden="true" class="header-anchor">#</a> shutdown</h3> <ul><li>-c: 取消前一个关机命令</li> <li>-h: 关机</li> <li>-r: 重启</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 立即关机</span>
<span class="token function">shutdown</span> -h now
<span class="token comment"># 30分钟后关机</span>
<span class="token function">shutdown</span> -h <span class="token number">30</span>
<span class="token comment"># 取消关机</span>
<span class="token function">shutdown</span> -c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="init"><a href="#init" aria-hidden="true" class="header-anchor">#</a> init</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>init <span class="token number">0</span> <span class="token comment"># 关机</span>
init <span class="token number">1</span> <span class="token comment"># 单用户</span>
init <span class="token number">2</span> <span class="token comment"># 不完全多用户，不包含NFS服务</span>
init <span class="token number">3</span> <span class="token comment"># 完全多用户</span>
init <span class="token number">4</span> <span class="token comment"># 未分配</span>
init <span class="token number">5</span> <span class="token comment"># 图形界面</span>
init <span class="token number">6</span> <span class="token comment"># 重启</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="logout"><a href="#logout" aria-hidden="true" class="header-anchor">#</a> logout</h3> <p>退出登录</p> <h2 id="查看帮助文档"><a href="#查看帮助文档" aria-hidden="true" class="header-anchor">#</a> 查看帮助文档</h2> <h3 id="man"><a href="#man" aria-hidden="true" class="header-anchor">#</a> man</h3> <ul><li>manual 的缩写，分为9章</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">man</span> <span class="token function">ls</span>
<span class="token comment"># 1代表第1章，省略时默认为1</span>
<span class="token function">man</span> <span class="token number">1</span> <span class="token function">ls</span>
<span class="token comment"># 使用 man 命令获得 man 的帮助，man 7 man 提示错误时需要安装软件包 yum install -y man-pages</span>
<span class="token function">man</span> <span class="token number">7</span> <span class="token function">man</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="help"><a href="#help" aria-hidden="true" class="header-anchor">#</a> help</h3> <p>shell（命令解释器）自带的命令为内部命令，其他的为外部命令，</p> <p>内部命令和 shell 在同一进程内，外部命令会产生子进程，</p> <p>可以使用 <code>type</code> 区分内部外部命令，更严谨的做法是用 <code>which</code> 获取命令的完整路径，然后用 <code>type</code> 加上命令的完整路径就可以明确区分</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 内部命令</span>
<span class="token builtin class-name">help</span> <span class="token builtin class-name">cd</span>

<span class="token comment"># 外部命令</span>
<span class="token function">ls</span> --help
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="info"><a href="#info" aria-hidden="true" class="header-anchor">#</a> info</h3> <p><code>info</code> 比 <code>help</code> 更详细，作为 <code>help</code> 的补充</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>info <span class="token function">ls</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="用户管理"><a href="#用户管理" aria-hidden="true" class="header-anchor">#</a> 用户管理</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 新建用户，可以在 /etc/passwd 和 /etc/shadow 中查看刚刚新建的用户</span>
<span class="token comment"># 新建一个用户，没有指定用户组，会创建一个与用户名同名的用户组并加入进去</span>
<span class="token function">useradd</span> 用户名
<span class="token comment"># 新建一个用户，同时加入到指定用户组中</span>
<span class="token function">useradd</span> -g 用户组名 用户名

<span class="token comment"># 删除用户</span>
<span class="token function">userdel</span> 用户名 <span class="token comment"># 该用户的家目录不会被删除</span>
<span class="token function">userdel</span> -r 用户名 <span class="token comment"># 该用户的家目录也会被删除</span>

<span class="token comment"># 修改用户密码</span>
<span class="token function">passwd</span> 用户名

<span class="token comment"># 修改用户属性</span>
<span class="token comment"># 修改用户的用户组</span>
<span class="token function">usermod</span> -g 用户组名 用户名
<span class="token comment"># 修改用户家目录</span>
<span class="token function">usermod</span> -d 家目录路径 用户名

<span class="token comment"># 修改用户属性</span>
chage 用户名

<span class="token comment"># 临时用户切换，- 代表切换用户同时切换运行环境</span>
<span class="token function">su</span> - 用户名

<span class="token comment"># 以 root 用户身份执行命令</span>
<span class="token function">sudo</span>
<span class="token comment"># 设置需要使用 sudo 的用户（组）</span>
visudo <span class="token comment"># /etc/sudoers</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="用户组管理"><a href="#用户组管理" aria-hidden="true" class="header-anchor">#</a> 用户组管理</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 新建用户组</span>
<span class="token function">groupadd</span>

<span class="token comment"># 删除用户组</span>
<span class="token function">groupdel</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="配置文件"><a href="#配置文件" aria-hidden="true" class="header-anchor">#</a> 配置文件</h2> <h3 id="etc-passwd"><a href="#etc-passwd" aria-hidden="true" class="header-anchor">#</a> /etc/passwd</h3> <p>用户信息，所有用户都可读写</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 用户:是否使用密码(真正的密码保存在 /etc/shadow 中):用户id(uid):组id(gid，对应 /etc/group 的第3个字段):备注:家目录:默认shell</span>
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin <span class="token comment"># nologin 表示该用户不能登录</span>
test:x:1001:1002::/home/test:/bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="etc-group"><a href="#etc-group" aria-hidden="true" class="header-anchor">#</a> /etc/group</h3> <p>用户组信息</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 组名:是否使用密码:组id(gid):组中的用户</span>
root:x:0:
mail:x:12:postfix
postfix:x:89:

<span class="token function">id</span> root
<span class="token operator">&gt;</span> <span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>

<span class="token function">id</span> mail
<span class="token operator">&gt;</span> <span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">(</span>mail<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">(</span>mail<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">(</span>mail<span class="token punctuation">)</span>

<span class="token function">id</span> postfix
<span class="token operator">&gt;</span> <span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">89</span><span class="token punctuation">(</span>postfix<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">89</span><span class="token punctuation">(</span>postfix<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">89</span><span class="token punctuation">(</span>postfix<span class="token punctuation">)</span>,12<span class="token punctuation">(</span>mail<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="etc-shadow"><a href="#etc-shadow" aria-hidden="true" class="header-anchor">#</a> /etc/shadow</h3> <p>用户密码，<strong>只有 root 用户拥有读权限，其他用户没有任何权限</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 用户名:加密密码:最后一次修改时间:最小修改时间间隔:密码有效期:密码需要变更前的警告天数:密码过期后的宽限天数:账号失效时间:保留字段</span>
root:<span class="token variable">$1</span><span class="token variable">$EncWLCZu</span><span class="token variable">$wHoru</span>/UcfhsGrJRRUPdK7.:18246:0:99999:7:::
test:<span class="token variable">$1</span><span class="token variable">$Uym0JVqL</span><span class="token variable">$QeCVRpbpyKow2S3gMpqVF</span>.:18553:0:99999:7:::

<span class="token function">date</span> -d <span class="token string">'1970-01-01 18246 days'</span>
<span class="token operator">&gt;</span> <span class="token number">2019</span>年 <span class="token number">12</span>月 <span class="token number">16</span>日 星期一 00:00:00 CST
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="文件处理"><a href="#文件处理" aria-hidden="true" class="header-anchor">#</a> 文件处理</h2> <p><strong>一切皆文件</strong></p> <h3 id="文件类型和权限"><a href="#文件类型和权限" aria-hidden="true" class="header-anchor">#</a> 文件类型和权限</h3> <p>Windows系统默认文件可读可写不可执行(0o666)</p> <table><thead><tr><th style="text-align:center;">drwxr-xr-x</th> <th>.</th> <th>133</th> <th>root</th> <th>root</th> <th>8192</th> <th>Oct  1 09:54</th> <th>etc</th></tr></thead> <tbody><tr><td style="text-align:center;">文件类型和权限</td> <td>ACL权限</td> <td>硬链接引用计数</td> <td>所属用户（属主）</td> <td>所属组（属组）</td> <td>文件大小</td> <td>最后修改时间</td> <td>文件名</td></tr></tbody></table> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 创建新文件有默认权限，根据 umask 值计算，属主和属组根据当前进程的用户来设定</span>
drwxr-xr-x. <span class="token number">133</span> root root <span class="token number">8192</span> Oct  <span class="token number">1</span> 09:54 etc
<span class="token number">1</span>️⃣d<span class="token operator">|</span><span class="token number">2</span>️⃣rwx<span class="token operator">|</span><span class="token number">3</span>️⃣r-x<span class="token operator">|</span><span class="token number">4</span>️⃣r-x
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>1️⃣ 文件类型</p> <ul><li>-: 普通文件</li> <li>d: 目录文件(directory)</li> <li>l: 符号链接文件(link)</li> <li>b: 块设备文件(block)</li> <li>c: 字符设备文件(char)</li> <li>p: 命名管道文件(pipe)</li> <li>s: socket套接字文件</li></ul> <p>2️⃣ owner 文件所有者（属主）对该文件的权限</p> <p>3️⃣ group 文件所在组（属组）对该文件的权限</p> <p>4️⃣ others 其他用户对该文件的权限</p> <h4 id="文件权限的表示方法"><a href="#文件权限的表示方法" aria-hidden="true" class="header-anchor">#</a> 文件权限的表示方法</h4> <table><thead><tr><th>权限项</th> <th style="text-align:center;">字符表示</th> <th style="text-align:center;">数字表示（八进制）</th></tr></thead> <tbody><tr><td>读(read)</td> <td style="text-align:center;">r</td> <td style="text-align:center;">4</td></tr> <tr><td>写(write)</td> <td style="text-align:center;">w</td> <td style="text-align:center;">2</td></tr> <tr><td>执行(execute)</td> <td style="text-align:center;">x</td> <td style="text-align:center;">1</td></tr></tbody></table> <h4 id="目录权限的表示方法："><a href="#目录权限的表示方法：" aria-hidden="true" class="header-anchor">#</a> 目录权限的表示方法：</h4> <ul><li>x: 进入目录</li> <li>rx: 显示目录内的文件名</li> <li>wx: 修改目录内的文件名</li></ul> <h4 id="修改权限"><a href="#修改权限" aria-hidden="true" class="header-anchor">#</a> 修改权限</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 修改文件、目录权限</span>

<span class="token comment"># u: user 属主</span>
<span class="token comment"># g: group 属组</span>
<span class="token comment"># o: other 其他用户</span>
<span class="token comment"># a: all 所有</span>

<span class="token comment"># +: 增加权限</span>
<span class="token comment"># -: 减少权限</span>
<span class="token comment"># =: 设置权限</span>
chomd u+x /tmp/testfile
<span class="token function">chmod</span> <span class="token number">755</span> /tmp/testfile

<span class="token comment"># 修改属主、属组权限</span>
<span class="token function">chown</span> 属主名:属组名 文件名或目录名

<span class="token comment"># 单独更改属组，不常用</span>
<span class="token function">chgrp</span> 属组名 文件名或目录名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="特殊权限"><a href="#特殊权限" aria-hidden="true" class="header-anchor">#</a> 特殊权限</h3> <h4 id="suid"><a href="#suid" aria-hidden="true" class="header-anchor">#</a> SUID</h4> <p>用于二进制可执行文件，执行命令时取得文件属主权限，如 /usr/bin/passwd</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">ls</span> -l /usr/bin/passwd
<span class="token operator">&gt;</span> -rwsr-xr-x. <span class="token number">1</span> root root <span class="token number">27832</span> <span class="token number">6</span>月  <span class="token number">10</span> <span class="token number">2014</span> /usr/bin/passwd

<span class="token comment"># 4加上权限</span>
<span class="token function">chmod</span> <span class="token number">4755</span> /test/testfile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="sgid"><a href="#sgid" aria-hidden="true" class="header-anchor">#</a> SGID</h4> <p>用于目录，在该目录下创建新的文件和目录，权限自动更改为该目录的数组</p> <h4 id="sbit"><a href="#sbit" aria-hidden="true" class="header-anchor">#</a> SBIT</h4> <p>用于目录，在该目录下新建的文件和目录，只有 root 和自己可以删除，如 /tmp</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">ls</span> -ld /tmp
<span class="token operator">&gt;</span> drwxrwxrwt. <span class="token number">10</span> root root <span class="token number">12288</span> <span class="token number">10</span>月 <span class="token number">19</span> <span class="token number">22</span>:39 /tmp

<span class="token comment"># 1加上权限</span>
<span class="token function">chmod</span> <span class="token number">1777</span> /test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div> <table><thead><tr><th>标识位flag</th> <th>说明</th></tr></thead> <tbody><tr><td>r</td> <td>读</td></tr> <tr><td>w</td> <td>写</td></tr> <tr><td>s</td> <td>同步</td></tr> <tr><td>x</td> <td>排它方式</td></tr> <tr><td>+</td> <td>增加相反操作</td></tr></tbody></table> <h3 id="pwd"><a href="#pwd" aria-hidden="true" class="header-anchor">#</a> pwd</h3> <p>显示当前目录的绝对路径</p> <h3 id="ls"><a href="#ls" aria-hidden="true" class="header-anchor">#</a> ls</h3> <p>查询目录下的文件，默认当前目录下的文件列表</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">ls</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span>文件或目录<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>选项：</p> <ul><li>-a: 显示所有文件，包括隐藏文件</li> <li>-l: 长格式显示文件</li> <li>-h: 人性化的方式显示文件大小</li> <li>-t: 按修改时间顺序显示</li> <li>-S: 按文件大小逆序显示</li> <li>-r: 逆序显示</li> <li>-R: 递归显示子目录</li> <li>-d: 查看目录本身的属性而非子文件</li> <li>-i: 显示inode，也就是i节点，每个节点都有ID号</li></ul> <h3 id="cd"><a href="#cd" aria-hidden="true" class="header-anchor">#</a> cd</h3> <p>Change the shell working directory. 更改当前的操作目录</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 相对路径参照当前所在目录；绝对路径参照根目录</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">[</span>目录<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>. 当前目录</li> <li>.. 上级目录</li> <li>- 上次目录</li> <li>/ 根目录</li> <li>~ 家目录（或者直接 <code>cd</code> 不跟目录名）</li></ul> <h3 id="mkdir"><a href="#mkdir" aria-hidden="true" class="header-anchor">#</a> mkdir</h3> <p>make directory 建立目录</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">mkdir</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span>目录名<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>选项：</p> <ul><li>-p: 递归建立多级目录</li></ul> <h3 id="rmdir"><a href="#rmdir" aria-hidden="true" class="header-anchor">#</a> rmdir</h3> <p>remove empty directory 删除空目录</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">rmdir</span> <span class="token punctuation">[</span>目录名<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="rm"><a href="#rm" aria-hidden="true" class="header-anchor">#</a> rm</h3> <p>删除文件或目录</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">rm</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span>文件或目录<span class="token punctuation">]</span>
<span class="token comment"># 递归强制删除所有目录</span>
<span class="token function">rm</span> -rf 文件或目录
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>选项：</p> <ul><li>-r: 删除目录，不加的话默认是删除文件</li> <li>-f: 强制删除，不进行提示</li></ul> <h3 id="mv"><a href="#mv" aria-hidden="true" class="header-anchor">#</a> mv</h3> <p>move 移动或改名</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 如果目标目录存在，将进行移动操作；如果目标目录不存在，将进行改名操作</span>

<span class="token comment"># 改名其实是本目录内移动：</span>
<span class="token comment"># 如果不跨越文件系统，改名和移动只是改变了所在目录的文件名部分，所以底层是一样的，</span>
<span class="token comment"># 但是跨文件系统移动，就要移动数据的datablock了</span>
<span class="token function">mv</span> <span class="token punctuation">[</span>源文件或目录<span class="token punctuation">]</span> <span class="token punctuation">[</span>目标文件或目录<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="cp"><a href="#cp" aria-hidden="true" class="header-anchor">#</a> cp</h3> <p>复制，注意默认复制后的文件权限、所属者、修改时间可能会变</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">cp</span> <span class="token punctuation">[</span>OPTION<span class="token punctuation">]</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>-T<span class="token punctuation">]</span> SOURCE DEST
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>选项：</p> <ul><li>-r: 复制目录，不加的话默认是复制文件</li> <li>-d: 若源文件是链接文件，则复制链接属性</li> <li>-p: 连带文件属性复制，保留文件原属性</li> <li>-a: 比 -p 更全，可以递归复制</li> <li>-v: 显示执行过程</li></ul> <h2 id="文本查看"><a href="#文本查看" aria-hidden="true" class="header-anchor">#</a> 文本查看</h2> <h3 id="cat"><a href="#cat" aria-hidden="true" class="header-anchor">#</a> cat</h3> <p>文本内容显示到终端</p> <h3 id="head"><a href="#head" aria-hidden="true" class="header-anchor">#</a> head</h3> <p>查看文件开头（默认10行）</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 查看 index.html 文件的前10行内容</span>
<span class="token function">head</span> ./index.html

<span class="token comment"># 查看 index.html 文件的前5行内容</span>
<span class="token function">head</span> -5 ./index.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="tail"><a href="#tail" aria-hidden="true" class="header-anchor">#</a> tail</h3> <p>查看文件结尾（默认10行）</p> <ul><li>-f: 文件内容更新后，显示信息同步更新</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 查看 index.html 文件的后10行内容</span>
<span class="token function">tail</span> ./index.html

<span class="token comment"># 查看 index.html 文件的后5行内容</span>
<span class="token function">tail</span> -5 ./index.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="wc"><a href="#wc" aria-hidden="true" class="header-anchor">#</a> wc</h3> <p>统计文件内容信息</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 统计 index.html 文件内容的行数</span>
<span class="token function">wc</span> -l ./index.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="more"><a href="#more" aria-hidden="true" class="header-anchor">#</a> more</h3> <h3 id="less"><a href="#less" aria-hidden="true" class="header-anchor">#</a> less</h3> <h2 id="文本编辑-vim"><a href="#文本编辑-vim" aria-hidden="true" class="header-anchor">#</a> 文本编辑 Vim</h2> <p><a href="https://www.vim.org/" target="_blank" rel="noopener noreferrer">vim<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="http://vimdoc.sourceforge.net/" target="_blank" rel="noopener noreferrer">vim doc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>vimtutor

<span class="token comment"># 配置文件</span>
~/.vimrc <span class="token comment"># Mac</span>
/etc/vimrc <span class="token comment"># Linux</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="多模式"><a href="#多模式" aria-hidden="true" class="header-anchor">#</a> 多模式</h3> <h4 id="正常模式-normal-mode"><a href="#正常模式-normal-mode" aria-hidden="true" class="header-anchor">#</a> 正常模式 Normal-mode</h4> <p>光标移动：</p> <ul><li>h: 左</li> <li>j: 下</li> <li>k: 上</li> <li>l: 右</li></ul> <p>复制：</p> <ul><li>y 或 yy: 复制光标位置所在的行</li> <li>3yy: 复制3行</li> <li>y$: 复制光标位置到行尾</li></ul> <p>粘贴：</p> <ul><li>p</li></ul> <p>剪切：</p> <ul><li>dd: 剪切一整行</li> <li>3dd: 剪切3行</li> <li>d$: 剪切光标位置到行尾</li> <li>dw: 剪切一个单词</li></ul> <p>删除：</p> <ul><li>x: 删除光标位置的字符</li></ul> <p>替换：</p> <ul><li>r + 字符: 替换光标位置的字符</li></ul> <p>撤销：</p> <ul><li>u: 相当于 windows 的 ctrl + z</li></ul> <p>重做：</p> <ul><li>ctrl + r: 相当于 windows 的 ctrl + y</li></ul> <p>移动：</p> <ul><li>0: 光标移到行开头</li> <li>^(shift+6): 光标移到行开头(第一个非空字符开始)</li> <li>$(shift+4): 光标移到行末尾</li> <li>10G: 移动光标位置到第10行</li> <li>g 或 [[: 移到到第一行开头</li> <li>G 或 ]]: 移动到最后一行开头</li></ul> <h4 id="插入模式-insert-mode"><a href="#插入模式-insert-mode" aria-hidden="true" class="header-anchor">#</a> 插入模式 Insert-mode</h4> <p>从正常模式进入插入模式（光标位置不同）：</p> <ul><li>i: 进入插入模式</li> <li>I: 进入插入模式，并且光标移动到 当前行的开头</li> <li>a: 进入插入模式，并且光标移动到 当前光标的下一位</li> <li>A: 进入插入模式，并且光标移动到 当前行的末尾</li> <li>o: 进入插入模式，并且光标移动到 当前光标的下一行（产生空行）</li> <li>O: 进入插入模式，并且光标移动到 当前光标的上一行（产生空行）</li></ul> <h4 id="命令模式（末行模式）-command-mode"><a href="#命令模式（末行模式）-command-mode" aria-hidden="true" class="header-anchor">#</a> 命令模式（末行模式） Command-mode</h4> <table><thead><tr><th>vim Command</th> <th>Description/Purpose</th></tr></thead> <tbody><tr><td>:w + 文件路径/文件名</td> <td>在指定文件路径下保存指定文件名</td></tr> <tr><td>:w</td> <td>保存</td></tr> <tr><td>:q</td> <td>退出</td></tr> <tr><td>:wq</td> <td>保存后退出</td></tr> <tr><td>:q!</td> <td>不保存退出</td></tr> <tr><td>:! + 命令</td> <td>临时执行 linux 命令</td></tr> <tr><td>/xxx</td> <td>从光标位置开始向后搜索xxx字符串<br>n 向后继续查找, shift + n 向前继续查找</td></tr> <tr><td>?xxx</td> <td>从光标位置开始向前搜索xxx字符串</td></tr> <tr><td>: s/旧字符串/新字符串</td> <td>将匹配到的“旧字符串”替换成“新字符串”（只替换光标位置所在的行）</td></tr> <tr><td>:%s/旧字符串/新字符串</td> <td>将匹配到的“旧字符串”替换成“新字符串”（“旧字符串”会被全部替换）</td></tr> <tr><td>: s/旧字符串/新字符串/g</td> <td>将匹配到的“旧字符串”全部替换成“新字符串”（只替换光标位置所在的行）</td></tr> <tr><td>:%s/旧字符串/新字符串/g</td> <td>将匹配到的“旧字符串”全部替换成“新字符串”（“旧字符串”会被全部替换）</td></tr> <tr><td>:ls</td> <td>列出所有的文件</td></tr> <tr><td>:10</td> <td>跳到指定行</td></tr> <tr><td>:set nu 或 :set number</td> <td>显示行号</td></tr> <tr><td>:set nonu 或 :set nonumber</td> <td>取消显示行号</td></tr> <tr><td>:set hlsearch</td> <td>高亮搜索</td></tr> <tr><td>:set nohlsearch</td> <td>取消高亮搜索</td></tr> <tr><td>:syntax on</td> <td>Enabling vi/vim syntax colors</td></tr> <tr><td>:syntax off</td> <td>Disabling vi/vim syntax colors</td></tr> <tr><td>:colorscheme foo</td> <td>Specifying a colorscheme called foo.<br>Use ‘/usr/share/vim/vim*/colors/’ to find installed color scheme</td></tr></tbody></table> <ul><li>如果查找的是“/”替换成“//”怎么写？
<ul><li>如果需要查找并替换&quot;/&quot;，可以将原有的替换分隔符号更换为其他符号（如 @），<code>: s/old/new/g</code> 替换为<code>: s@/@//@g</code></li></ul></li> <li>如何复制其他文件的内容后粘贴到当前文件？
<ul><li><code>vim file1 file2</code> 同时打开两个文件，第一个文件使用 <code>y</code> 命令复制，使 <code>:next</code> 打开下一个文件，使用 <code>p</code> 命令粘贴，返回上一个文件使用 <code>:prev</code></li></ul></li></ul> <h4 id="可视模式-visual-mode"><a href="#可视模式-visual-mode" aria-hidden="true" class="header-anchor">#</a> 可视模式 Visual-mode</h4> <p><code>v</code> 进入字符可视模式，<code>V</code> 进入行可视模式，<code>ctrl+v</code> 进入块可视模式</p> <ul><li>块可视模式插入：
<ul><li><code>ctrl+v</code> 进入可视模式</li> <li>用光标选中多行</li> <li>按 <code>I</code>，然后输入内容，</li> <li>再按两次 ESC</li></ul></li> <li>块可视模式删除同理：
<ul><li><code>ctrl+v</code> 进入可视模式</li> <li>光标选中多行</li> <li>按 <code>d</code> 进行删除</li></ul></li></ul> <h1 id="网络管理"><a href="#网络管理" aria-hidden="true" class="header-anchor">#</a> 网络管理</h1> <h2 id="网络状态查看"><a href="#网络状态查看" aria-hidden="true" class="header-anchor">#</a> 网络状态查看</h2> <h3 id="net-tools"><a href="#net-tools" aria-hidden="true" class="header-anchor">#</a> net-tools</h3> <ul><li>ifconfig</li> <li>route</li> <li>netstat</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">ifconfig</span> <span class="token operator">&lt;</span>接口<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>IP地址<span class="token operator">&gt;</span> <span class="token punctuation">[</span>netmask 子网掩码<span class="token punctuation">]</span>
<span class="token function">ifup</span> <span class="token operator">&lt;</span>接口<span class="token operator">&gt;</span>
<span class="token function">ifdown</span> <span class="token operator">&lt;</span>接口<span class="token operator">&gt;</span>

<span class="token comment"># 查看所有网卡</span>
<span class="token function">ifconfig</span>
<span class="token comment"># 查看指定网卡 eht0</span>
<span class="token function">ifconfig</span> eth0
<span class="token comment"># 设置 网卡 eth0 的 ip</span>
<span class="token function">ifconfig</span> eth0 <span class="token number">172.17</span>.0.2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="iproute2"><a href="#iproute2" aria-hidden="true" class="header-anchor">#</a> iproute2</h3> <ul><li>ip</li> <li>ss</li></ul> <h2 id="网络接口命名修改"><a href="#网络接口命名修改" aria-hidden="true" class="header-anchor">#</a> 网络接口命名修改</h2> <p>网卡命名规则受 biosdevname 和 net.ifnames 两个参数影响</p> <table><thead><tr><th></th> <th>biosdevname</th> <th>net.ifnames</th> <th>网卡名</th></tr></thead> <tbody><tr><td>默认</td> <td>0</td> <td>1</td> <td>ens33</td></tr> <tr><td>组合1</td> <td>1</td> <td>0</td> <td>em1</td></tr> <tr><td>组合2</td> <td>0</td> <td>0</td> <td>eth0</td></tr></tbody></table> <ul><li><ol><li>编辑 /etc/default/grub 文件，增加 biosdevname=0 net.ifnames=0</li></ol></li> <li><ol start="2"><li>更新 grub: grub2-mkconfig -o /boot/grub2/grub.cfg</li></ol></li> <li><ol start="3"><li>重启: reboot</li></ol></li></ul> <h2 id="查看网卡物理连接情况"><a href="#查看网卡物理连接情况" aria-hidden="true" class="header-anchor">#</a> 查看网卡物理连接情况</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>mii-tool eth0
<span class="token function">ethtool</span> eth0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="ip"><a href="#ip" aria-hidden="true" class="header-anchor">#</a> ip</h2> <p>ip 是一个命令集，如 <code>ip address</code></p> <h2 id="route"><a href="#route" aria-hidden="true" class="header-anchor">#</a> route</h2> <p>route 路由管理，查看网关</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 查看网关，使用 -n 参数不解析主机名</span>
route -n

<span class="token comment"># 删除网关</span>
route del default gw <span class="token operator">&lt;</span>网关ip<span class="token operator">&gt;</span>

<span class="token comment"># 添加网关</span>
route <span class="token function">add</span> default gw <span class="token operator">&lt;</span>网关ip<span class="token operator">&gt;</span>
route <span class="token function">add</span> -host <span class="token operator">&lt;</span>指定ip<span class="token operator">&gt;</span> gw <span class="token operator">&lt;</span>网关ip<span class="token operator">&gt;</span>
route <span class="token function">add</span> -net <span class="token operator">&lt;</span>指定网段<span class="token operator">&gt;</span> netmask <span class="token operator">&lt;</span>子网掩码<span class="token operator">&gt;</span> gw <span class="token operator">&lt;</span>网关ip<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="ps"><a href="#ps" aria-hidden="true" class="header-anchor">#</a> ps</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> node
<span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> node
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="netstat"><a href="#netstat" aria-hidden="true" class="header-anchor">#</a> netstat</h3> <p><a href="https://www.cnblogs.com/hindy/p/7249234.html" target="_blank" rel="noopener noreferrer">LINUX中如何查看某个端口是否被占用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 查看端口为80的进程id</span>
<span class="token function">netstat</span> -anp <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">80</span>

<span class="token comment"># 查看当前所有已经使用的端口情况(不用加端口号)</span>
<span class="token comment"># -t (tcp) 仅显示tcp相关选项</span>
<span class="token comment"># -u (udp) 仅显示udp相关选项</span>
<span class="token comment"># -n 拒绝显示别名，能显示数字的全部转化为数字</span>
<span class="token comment"># -l 仅列出在Listen(监听)的服务状态</span>
<span class="token comment"># -p 显示建立相关链接的程序名</span>
<span class="token function">netstat</span> -tunlp

<span class="token comment"># 查看应用在线人数</span>
<span class="token function">netstat</span> -ant <span class="token operator">|</span> <span class="token function">grep</span> -E <span class="token string">':80|:443'</span> <span class="token operator">|</span> <span class="token function">wc</span> -l
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="lsof"><a href="#lsof" aria-hidden="true" class="header-anchor">#</a> lsof</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">lsof</span> -i :80
<span class="token function">lsof</span> -i tcp:80
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="网络故障排除"><a href="#网络故障排除" aria-hidden="true" class="header-anchor">#</a> 网络故障排除</h2> <h3 id="ping"><a href="#ping" aria-hidden="true" class="header-anchor">#</a> ping</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">ping</span> www.baidu.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="traceroute"><a href="#traceroute" aria-hidden="true" class="header-anchor">#</a> traceroute</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># -w 等待时间（秒）</span>
<span class="token function">traceroute</span> -w <span class="token number">1</span> www.baidu.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="mtr"><a href="#mtr" aria-hidden="true" class="header-anchor">#</a> mtr</h3> <h3 id="nslookup"><a href="#nslookup" aria-hidden="true" class="header-anchor">#</a> nslookup</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 域名解析 ip 地址</span>
<span class="token function">nslookup</span> www.baidu.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="telnet"><a href="#telnet" aria-hidden="true" class="header-anchor">#</a> telnet</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>yum <span class="token function">install</span> -y telnet
<span class="token comment"># 检查本机到 www.baidu.com 的80端口是否畅通</span>
telnet www.baidu.com <span class="token number">80</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="tcpdump"><a href="#tcpdump" aria-hidden="true" class="header-anchor">#</a> tcpdump</h3> <ul><li>-i: 监听 interface</li> <li>-n: 不要把地址转换成名字（指的是主机地址，端口号等）</li> <li>-w: 把原始报文存进文件</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 抓包，本机到主机10.0.0.1</span>
tcpdump -i any -n <span class="token function">host</span> <span class="token number">10.0</span>.0.1
<span class="token comment"># 本机到端口80</span>
tcpdump -i any -n port <span class="token number">80</span>
<span class="token comment"># 本机到10.0.0.1的80端口</span>
tcpdump -i any -n <span class="token function">host</span> <span class="token number">10.0</span>.0.1 and port <span class="token number">80</span>
<span class="token comment"># -w 写入到文件</span>
tcpdump -i any -n <span class="token function">host</span> <span class="token number">10.0</span>.0.1 and port <span class="token number">80</span> -w /tmp/tcpdumpfile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="netstat-2"><a href="#netstat-2" aria-hidden="true" class="header-anchor">#</a> netstat</h3> <h3 id="ss"><a href="#ss" aria-hidden="true" class="header-anchor">#</a> ss</h3> <h3 id="systemctl"><a href="#systemctl" aria-hidden="true" class="header-anchor">#</a> systemctl</h3> <p>服务管理</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 查看服务状态</span>
systemctl status 服务名（如ngnix）
<span class="token comment"># 启动服务</span>
systemctl start 服务名
<span class="token comment"># 停止服务</span>
systemctl stop 服务名
<span class="token comment"># 重启服务</span>
systemctl restart 服务名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="pkill"><a href="#pkill" aria-hidden="true" class="header-anchor">#</a> pkill</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 停止服务</span>
<span class="token function">pkill</span> 服务名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="kill"><a href="#kill" aria-hidden="true" class="header-anchor">#</a> kill</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 杀掉进程Id为pid的进程</span>
<span class="token function">kill</span> pid
<span class="token comment"># 强行杀掉进程Id为pid的进程</span>
<span class="token function">kill</span> -9 pid
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="软件安装"><a href="#软件安装" aria-hidden="true" class="header-anchor">#</a> 软件安装</h2> <h3 id="软件包管理"><a href="#软件包管理" aria-hidden="true" class="header-anchor">#</a> 软件包管理</h3> <ul><li><p>CentOS、RedHat 使用 yum 包管理器，软件安装包格式为 rpm</p></li> <li><p>Debian、Ubuntu 使用 apt 包管理器，软件安装包格式为 deb</p></li> <li><p>debian:  <code>apt</code>或<code>apt-get</code></p></li> <li><p>unbuntu: <code>apt</code>或<code>apt-get</code></p></li> <li><p>fedora:  <code>yum</code>或<code>dnf</code></p></li> <li><p>centos:  <code>yum</code></p></li></ul> <h3 id="下载"><a href="#下载" aria-hidden="true" class="header-anchor">#</a> 下载</h3> <ul><li>curl</li> <li>wget<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 下载失败后需重新下载</span>
<span class="token function">wget</span> 地址
<span class="token comment"># 断点续传</span>
<span class="token function">wget</span> -c 地址
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h3 id="进程管理"><a href="#进程管理" aria-hidden="true" class="header-anchor">#</a> 进程管理</h3> <ul><li>top
<ul><li>top -p pid: 查看指定进程ID</li></ul></li> <li>ps
<ul><li>ps -e | more</li> <li>ps -ef</li> <li>ps -eLf</li></ul></li> <li>pstree</li> <li>nice
<ul><li>nice 范围从-20到19，值越小优先级越高，抢占资源就越多</li> <li>nice -n 10 ./test.sh</li></ul></li> <li>renice 重新调整优先级
<ul><li>renice -n 15 ./test.sh</li></ul></li> <li>&amp;: 脚本在后台运行
<ul><li>./test.sh &amp;</li></ul></li> <li>jobs 进程的作业控制
<ul><li>fg: 进入前台运行</li> <li>bg: 进入后台运行</li> <li>ctrl + z: 进程暂停进入挂起</li></ul></li> <li>kill（进程间通信-信号）
<ul><li>kill -l 查看可发送的信号</li> <li>SIGINT 通知前台进程俎终止进程 ctrl+c</li> <li>SIGKILL 立即结束程序，不能被阻塞和处理 kill -9 pid</li></ul></li> <li>pkill</li></ul> <h3 id="打包与压缩"><a href="#打包与压缩" aria-hidden="true" class="header-anchor">#</a> 打包与压缩</h3> <p>扩展名：</p> <ul><li>.tar</li> <li>.tar.gz（双扩展名可缩写为 .tgz）</li> <li>.tar.bz2（或.tar.bzip2，双扩展名可缩写为 .tbz2）</li></ul> <h4 id="tar"><a href="#tar" aria-hidden="true" class="header-anchor">#</a> <a href="https://www.runoob.com/linux/linux-comm-tar.html" target="_blank" rel="noopener noreferrer">tar<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <p>打包（备份）文件</p> <p>选项：</p> <ul><li>-c 或 --create: 打包，建立新的备份文件</li> <li>-C: 用于解压缩到指定目录</li> <li>-x 或 --extract 或 --get: 解包，还原备份文件</li> <li>-z: 通过gzip指令处理备份文件</li> <li>-v 或 --verbose: 显示执行过程</li> <li>-f 或 --file: 指定操作类型为文件</li></ul> <div class="warning custom-block"><p>-f 跟着文件，所以需要放在最后</p></div> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 仅打包，不压缩</span>
<span class="token comment"># tar -cvf 目标备份文件名 源文件/源目录</span>
<span class="token function">tar</span> -cvf log.tar <span class="token number">20201017</span>.log

<span class="token comment"># 打包并压缩（tar 命令集成了 gzip(-z) 和 bzip2(-j) 压缩）</span>
<span class="token comment"># 1. 打包后，用 gzip 压缩</span>
<span class="token function">tar</span> -czvf log.tar.gz <span class="token number">20201017</span>.log
<span class="token comment"># 2. 打包后，用 bzip2 压缩</span>
<span class="token function">tar</span> -cjvf log.tar.bz2 <span class="token number">20201017</span>.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 仅解包，不解压缩</span>
<span class="token comment"># tar -xvf 备份文件名</span>
<span class="token function">tar</span> -xvf log.tar <span class="token comment"># 仅解包</span>
<span class="token function">tar</span> -xvf log.tar -C /root <span class="token comment"># 仅解包，并指定目录</span>
<span class="token function">tar</span> -xvf log.tar.gz
<span class="token function">tar</span> -xvf log.tar.gz -C /root/tmp

<span class="token function">tar</span> -xzvf
<span class="token function">tar</span> -xjvf

<span class="token comment"># 显示压缩文件的内容</span>
<span class="token function">tar</span> -tvf log.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="zip"><a href="#zip" aria-hidden="true" class="header-anchor">#</a> zip</h4> <ul><li>压缩：zip 压缩文件名 源文件/源目录</li> <li>解压缩：unzip 压缩文件名
<ul><li>zip 1.txt</li> <li>zip -r book</li> <li>unzip book.zip</li></ul></li></ul> <h4 id="gzip"><a href="#gzip" aria-hidden="true" class="header-anchor">#</a> gzip</h4> <table><thead><tr><th>命令</th> <th>示例</th> <th>含义</th></tr></thead> <tbody><tr><td>gzip 源文件</td> <td>gzip 1.txt</td> <td>压缩为.gz格式的压缩文件，不保留源文件</td></tr> <tr><td>gzip -c 源文件</td> <td>gzip -c 1.txt &gt; 1.txt.gz</td> <td>压缩为.gz格式的压缩文件，保留源文件</td></tr> <tr><td>gzip -r 目录</td> <td>gzip -r book</td> <td>压缩目录下的所有子文件，但是不压缩目录</td></tr> <tr><td>gzip -d 压缩文件名</td> <td>gzip -d 1.txt.gz</td> <td>解压缩文件，不保留压缩包</td></tr> <tr><td>gunzip 压缩文件名</td> <td>gunzip 1.txt.gz</td> <td>解压缩文件，不保留压缩包</td></tr></tbody></table> <h4 id="bz2"><a href="#bz2" aria-hidden="true" class="header-anchor">#</a> bz2</h4> <table><thead><tr><th>命令</th> <th>示例</th> <th>含义</th></tr></thead> <tbody><tr><td>bzip2 源文件</td> <td>bzip2 1.txt</td> <td>压缩为.bz2格式的压缩文件，不保留源文件</td></tr> <tr><td>bzip2 -k 源文件</td> <td>bzip2 -k 1.txt</td> <td>压缩为.bz2格式的压缩文件，保留源文件</td></tr> <tr><td>bzip2 -d 压缩文件名</td> <td>bzip2 -d 1.txt.bz2</td> <td>解压压缩包，不保留压缩包</td></tr> <tr><td>bunzip2 压缩文件名</td> <td>bunzip2 1.txt.bz2</td> <td>解压压缩包，不保留压缩包</td></tr></tbody></table> <div class="warning custom-block"><p>bzip2不能压缩目录</p></div> <h2 id="查看用户"><a href="#查看用户" aria-hidden="true" class="header-anchor">#</a> 查看用户</h2> <h3 id="查看所有用户列表"><a href="#查看所有用户列表" aria-hidden="true" class="header-anchor">#</a> 查看所有用户列表</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">cat</span> /etc/passwd
<span class="token function">cat</span> /etc/passwd<span class="token operator">|</span><span class="token function">grep</span> -v nologin<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token function">halt</span><span class="token operator">|</span><span class="token function">grep</span> -v <span class="token function">shutdown</span><span class="token operator">|</span><span class="token function">awk</span> -F<span class="token string">&quot;:&quot;</span> <span class="token string">'{ print <span class="token variable">$1</span>&quot;|&quot;<span class="token variable">$3</span>&quot;|&quot;<span class="token variable">$4</span> }'</span><span class="token operator">|</span><span class="token function">more</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="w"><a href="#w" aria-hidden="true" class="header-anchor">#</a> w</h3> <p>查看登录用户信息</p> <ul><li>USER 登录的用户名</li> <li>TTY 登录的终端（tty1本地终端 pts/0远程终端）</li> <li>FROM 登录IP</li> <li>LOGIN@ 登录时间</li> <li>IDLE 用户闲置时间</li> <li>JCPU 该终端所有进程占用的时间</li> <li>PCPU 当前进程所占用的时间</li> <li>WHAT 正在执行的命令</li></ul> <h4 id="who"><a href="#who" aria-hidden="true" class="header-anchor">#</a> who</h4> <p>查看登录用户信息</p> <ul><li>USER 登录的用户名</li> <li>TTY 登录的终端（tty1本地终端 pts/0远程终端）</li> <li>LOGIN 登录时间（登录IP）</li></ul> <h4 id="whoami"><a href="#whoami" aria-hidden="true" class="header-anchor">#</a> whoami</h4> <ul><li>USER 登录的用户名</li></ul> <h4 id="id"><a href="#id" aria-hidden="true" class="header-anchor">#</a> id</h4> <p>id 用户名：显示指定用户信息，包括用户编号，用户名 主要组的编号及名称，附属组列表</p> <h4 id="last"><a href="#last" aria-hidden="true" class="header-anchor">#</a> last</h4> <p>查看当前登录用户和过去登录的用户信息，默认读取<code>/var/log/wtmp</code>文件</p> <ul><li>用户名</li> <li>登录终端</li> <li>登录IP</li> <li>登录时间</li> <li>退出时间（在线时间）</li></ul> <h4 id="lastb"><a href="#lastb" aria-hidden="true" class="header-anchor">#</a> lastb</h4> <p>查看登录失败的用户名单，默认读取<code>/var/log/btmp</code>文件</p> <h4 id="lastlog"><a href="#lastlog" aria-hidden="true" class="header-anchor">#</a> lastlog</h4> <p>查看所有用户的最后一次登录时间</p> <ul><li>用户名</li> <li>登录终端</li> <li>登录IP</li> <li>最后一次登录时间</li></ul> <h2 id="shell"><a href="#shell" aria-hidden="true" class="header-anchor">#</a> shell</h2> <h3 id="echo"><a href="#echo" aria-hidden="true" class="header-anchor">#</a> echo</h3> <p>输出命令</p> <ul><li>-e支持反斜线控制的字符转换</li></ul> <table><thead><tr><th>控制字符</th> <th>作用</th></tr></thead> <tbody><tr><td>\a</td> <td>输出警告音</td></tr> <tr><td>\b</td> <td>退格键，即向左删除键</td></tr> <tr><td>\n</td> <td>换行符</td></tr> <tr><td>\r</td> <td>回车键</td></tr> <tr><td>\t</td> <td>制表符，即tab键</td></tr> <tr><td>\v</td> <td>垂直制表符</td></tr> <tr><td>\0nnn</td> <td>按照八进制ASCII码表输出字符，其中0为数字零，nnn是三位八进制数</td></tr> <tr><td>\xhh</td> <td>按照十六进制ASCII码表输出字符，其中hh为两位十六进制数</td></tr></tbody></table> <h3 id="alias"><a href="#alias" aria-hidden="true" class="header-anchor">#</a> alias</h3> <ul><li>alias查看命令别名</li> <li>设置别名：alias 别名=具体命令</li> <li>删除别名：unalias 别名</li> <li>永久生效：
<ul><li>写入环境变量配置文件：<code>vi ~/.bashrc</code></li> <li><code>source ~/.bashrc</code></li></ul></li></ul> <h3 id="命令生效顺序"><a href="#命令生效顺序" aria-hidden="true" class="header-anchor">#</a> 命令生效顺序</h3> <ul><li>绝对路径或相对路径</li> <li>别名</li> <li>bash内部命令</li> <li>按照$PATH环境变量定义的目录查找顺序找到的第一个命令</li></ul> <h3 id="常用命令快捷键"><a href="#常用命令快捷键" aria-hidden="true" class="header-anchor">#</a> 常用命令快捷键</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>ctrl c <span class="token comment">#结束正在运行的程序</span>
ctrl d <span class="token comment">#结束输入或退出shell</span>
ctrl s <span class="token comment">#暂停屏幕输出（看起来像死机）</span>
ctrl q <span class="token comment">#恢复屏幕输出</span>
ctrl l <span class="token comment">#清屏，等同于clear</span>
ctrl a <span class="token comment">#移动光标到行首</span>
ctrl e <span class="token comment">#移动光标到行尾</span>
ctrl u <span class="token comment">#从光标所在的位置删除到行首</span>
ctrl r <span class="token comment">#在历史命令中搜索</span>
ctrl z <span class="token comment">#把命令放入后台</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="history"><a href="#history" aria-hidden="true" class="header-anchor">#</a> history</h3> <p>历史命令保存在用户的家目录中的.bash_history文件中，默认保存1000条</p> <ul><li>history [选项] [历史命令保存文件]</li> <li>选项
<ul><li>-c清空历史命令</li> <li>-w把缓存中的历史命令写入历史命令保存文件~/.bash_history</li></ul></li> <li>!
<ul><li>!!：执行上一条命令</li> <li>!n：执行第n条命令</li> <li>!字符串：执行最近一条以该字符串开头的命令</li></ul></li></ul> <h3 id="特殊符号"><a href="#特殊符号" aria-hidden="true" class="header-anchor">#</a> 特殊符号</h3> <table><thead><tr><th>符号</th> <th>作用</th></tr></thead> <tbody><tr><td>~</td> <td>用户家目录</td></tr> <tr><td>#</td> <td>注释</td></tr> <tr><td>*</td> <td>匹配0个或多个字符，即匹配任意内容</td></tr> <tr><td>?</td> <td>匹配一个任意字符</td></tr> <tr><td>[]</td> <td>匹配中括号中任意一个字符</td></tr> <tr><td>[-]</td> <td>匹配中括号中任意一个字符，-代表范围</td></tr> <tr><td>[^]</td> <td>匹配不是中括号中的一个字符</td></tr> <tr><td>\</td> <td>转义符号</td></tr> <tr><td>;</td> <td>分号，没有任何逻辑关系的连接符。当多个命令⽤分号连接时，各命令之间的执行成功与否彼此没有任何影响，都会⼀条⼀条执⾏下去。</td></tr> <tr><td>||</td> <td>逻辑或，当⽤此连接符连接多个命令时，前⾯的命令执⾏成功，则后⾯的命令不会执行。前⾯的命令执⾏失败，后⾯面的命令才会执⾏。</td></tr> <tr><td>&amp;&amp;</td> <td>逻辑与，当⽤此连接符连接多个命令时，前⾯的命令执行成功，才会执行后⾯的命令，前面的命令执⾏失败，后⾯的命令不会执行。</td></tr> <tr><td>|</td> <td>管道符号，当⽤此连接符连接多个命令时，前⾯命令执行的正确输出，会交给后⾯的命令继续处理。 若前面的命令执⾏失败则会报错，若后⾯的命令⽆法处理前⾯命令的输出也会报错。</td></tr> <tr><td>''</td> <td>单引号，在单引号中所有的特殊符号都没有特殊含义</td></tr> <tr><td>&quot;&quot;</td> <td>双引号，在双引号中特殊符号没有特殊含义，但是$`\例外，拥有调用变量值，引用命令和转义的含义。</td></tr> <tr><td>``</td> <td>反引号，引用系统命令</td></tr> <tr><td>$()</td> <td>同反引号</td></tr> <tr><td>&gt;</td> <td>重定向符号，取代</td></tr> <tr><td>&gt;&gt;</td> <td>重定向符号，追加</td></tr> <tr><td>2&gt;</td> <td>错误重定向</td></tr> <tr><td>2&gt;&gt;</td> <td>错误追加重定向</td></tr></tbody></table> <h3 id="sed"><a href="#sed" aria-hidden="true" class="header-anchor">#</a> sed</h3> <ul><li>文本替换
<ul><li><code>sed -i '' -e 's/源文本/新文本/g' 文件名</code></li></ul></li></ul> <h3 id="awk"><a href="#awk" aria-hidden="true" class="header-anchor">#</a> awk</h3></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/other/git.html" class="prev">Git</a></span> <span class="next"><a href="/blog/other/shell.html">Shell</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.4f2de14e.js" defer></script><script src="/blog/assets/js/2.7449a846.js" defer></script><script src="/blog/assets/js/44.ab150524.js" defer></script>
  </body>
</html>
